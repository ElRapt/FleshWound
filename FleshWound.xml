<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <!-- Define the main frame -->
  <Frame name="FleshWoundFrame" parent="UIParent" enableMouse="true" movable="true"
         toplevel="true" frameStrata="MEDIUM" hidden="true" inherits="BackdropTemplate">
    <Size x="400" y="600"/>
    <Anchors>
      <Anchor point="CENTER"/>
    </Anchors>
    <Scripts>
      <OnLoad function="FleshWound_OnLoad"/>
      <OnDragStart function="FleshWoundFrame_OnDragStart"/>
      <OnDragStop function="FleshWoundFrame_OnDragStop"/>
    </Scripts>
    
    <!-- Body Background Image -->
    <Layers>
      <Layer level="BACKGROUND">
        <Texture name="$parentBodyImage" parentKey="BodyImage">
          <Size x="300" y="500"/>
          <Anchors>
            <Anchor point="CENTER" relativePoint="CENTER" x="30" y="0"/>
          </Anchors>
          <Texture file="Interface\AddOns\FleshWound\Textures\body.png"/>
        </Texture>
      </Layer>
    </Layers>
    
    <!-- Clickable Regions for Body Parts -->
    <Frames>
      <!-- Head Button -->
      <Button name="$parentHeadButton" enableMouse="true">
        <Size x="60" y="60"/>
        <Anchors>
          <Anchor point="TOP" relativePoint="TOP" x="0" y="-50"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnHeadClick"/>
        </Scripts>
      </Button>

      <!-- Chest Button -->
      <Button name="$parentChestButton" enableMouse="true">
        <Size x="100" y="120"/>
        <Anchors>
          <Anchor point="TOP" relativePoint="TOP" x="0" y="-120"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnChestClick"/>
        </Scripts>
      </Button>

      <!-- Left Arm Button -->
      <Button name="$parentLeftArmButton" enableMouse="true">
        <Size x="50" y="120"/>
        <Anchors>
          <Anchor point="TOPRIGHT" relativeTo="$parentChestButton" relativePoint="TOPLEFT" x="-20" y="0"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnLeftArmClick"/>
        </Scripts>
      </Button>

      <!-- Left Forearm Button -->
      <Button name="$parentLeftForearmButton" enableMouse="true">
        <Size x="40" y="100"/>
        <Anchors>
          <Anchor point="TOP" relativeTo="$parentLeftArmButton" relativePoint="BOTTOM" x="0" y="-10"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnLeftForearmClick"/>
        </Scripts>
      </Button>

      <!-- Right Arm Button -->
      <Button name="$parentRightArmButton" enableMouse="true">
        <Size x="50" y="120"/>
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="$parentChestButton" relativePoint="TOPRIGHT" x="20" y="0"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnRightArmClick"/>
        </Scripts>
      </Button>

      <!-- Right Forearm Button -->
      <Button name="$parentRightForearmButton" enableMouse="true">
        <Size x="40" y="100"/>
        <Anchors>
          <Anchor point="TOP" relativeTo="$parentRightArmButton" relativePoint="BOTTOM" x="0" y="-10"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnRightForearmClick"/>
        </Scripts>
      </Button>

      <!-- Left Leg Button -->
      <Button name="$parentLeftLegButton" enableMouse="true">
        <Size x="60" y="150"/>
        <Anchors>
          <Anchor point="BOTTOMRIGHT" relativeTo="$parentChestButton" relativePoint="BOTTOMLEFT" x="-10" y="-20"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnLeftLegClick"/>
        </Scripts>
      </Button>

      <!-- Left Foot Button -->
      <Button name="$parentLeftFootButton" enableMouse="true">
        <Size x="50" y="50"/>
        <Anchors>
          <Anchor point="TOP" relativeTo="$parentLeftLegButton" relativePoint="BOTTOM" x="0" y="-10"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnLeftFootClick"/>
        </Scripts>
      </Button>

      <!-- Right Leg Button -->
      <Button name="$parentRightLegButton" enableMouse="true">
        <Size x="60" y="150"/>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo="$parentChestButton" relativePoint="BOTTOMRIGHT" x="10" y="-20"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnRightLegClick"/>
        </Scripts>
      </Button>

      <!-- Right Foot Button -->
      <Button name="$parentRightFootButton" enableMouse="true">
        <Size x="50" y="50"/>
        <Anchors>
          <Anchor point="TOP" relativeTo="$parentRightLegButton" relativePoint="BOTTOM" x="0" y="-10"/>
        </Anchors>
        <Scripts>
          <OnClick function="FleshWound_OnRightFootClick"/>
        </Scripts>
      </Button>
    </Frames>
  </Frame>
</Ui>